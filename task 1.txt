
creating a lambda function

const hello = new lambda.Function(this, 'HelloHandler', {
      runtime: lambda.Runtime.NODEJS_14_X,    
      code: lambda.Code.fromAsset('./lambda'), 
      handler: 'hello.handler'                

    });
	
creating a dynamodb table

const globalTable = new dynamodb.Table(this, 'Table', {
  partitionKey: { name: 'id', type: dynamodb.AttributeType.STRING },
  replicationRegions: ['us-east-1', 'us-east-2', 'us-west-2'],
  
});



getting the list of s3 buckets in the account

const {Aws}  = require('aws-cdk-lib');
const { JsonableValue } = require("ts-jest");
exports.handler = async (event)=> {
    const s3=new Aws.S3();
    const myBuckets= await s3.listBuckets().promise();
    console.log(myBuckets);
    const response={
        statusCode:200,
        body: JsonableValue.stringify('Hello'),
    };
    return response;
  };


storing list of s3 buckets data into dynamodb







